{"version":3,"sources":["assets/images/logo.png","components/Home.js","components/ShowInMaps.js","components/Details.js","components/StationPreview.js","components/List.js","components/Nearby.js","App.js","index.js"],"names":["Home","useState","search","setSearch","resStatus","setResStatus","history","useHistory","URL","token","process","errorHandler","setTimeout","className","src","Logo","alt","onChange","e","target","value","onSubmit","preventDefault","fetch","headers","Authorization","then","res","ok","push","searchStation","type","placeholder","ShowInMaps","props","coords","useParams","mapsKey","mapUrl","onClick","goBack","title","Details","ident","stationUrl","metarUrl","tafUrl","stationData","setStationData","metarData","setMetarData","tafData","setTafData","condition","setCondition","metar","taf","info","loading","setLoading","getStationData","a","json","newStationData","iata","icao","lat","latitude","lon","longitude","name","country","runways","elev_ft","elevation_ft","elev_m","elevation_m","catch","error","console","log","getMetarData","flight_rules","includes","sincePublished","timeSincePublished","newMetarData","raw","wind_direction","wind_speed","since","getTafData","newTafData","roundCoord","coord","Math","floor","toFixed","data","offset","Date","getTimezoneOffset","now","toLocal","parseInt","daypublished","slice","publishedHr","publishedMin","date","seconds","interval","timeSince","getFullYear","getMonth","useEffect","seeOnMap","direction","speed","windInfo","listRwys","map","rwy","ident1","ident2","length","getRunwaysList","findNearby","StationPreview","d","roundDistance","dist","from","List","url","nearby","setNearby","listNearby","to","station","nautical_miles","Nearby","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.129e00cf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.19da3b99.png\";","import { useState } from 'react';\nimport '../assets/styles/App.scss';\nimport Logo from '../assets/images/logo.png';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useHistory } from 'react-router-dom';\n\n\nconst Home = () => {\n\n\tconst [search, setSearch] = useState('');\n\tconst [resStatus, setResStatus] = useState('OK');\n\tlet history = useHistory();\n\t\n\tconst URL = `https://avwx.rest/api/station/${search}?&format=json`;\n\tconst token = `${process.env.REACT_APP_TOKEN}`;\n\n\tconst searchStation = (e) => {\n\t\te.preventDefault();\n\t\tsetSearch('');\n\t\tfetch(URL, {\n  \t\theaders: {\n    \t\tAuthorization: `TOKEN ${token}`\n  \t\t}\n\t\t})\n  \t.then(\n\t\t\tres => res.ok ? history.push(`/station/${search}`) : errorHandler());\n\t}\n\n\t//Shows error message if airport not found\n\tconst errorHandler = () => {\n    setResStatus('ERROR');\n    setTimeout(() => {\n      setResStatus('OK');\n    }, 2200);\n\t}\n\n\treturn(\n\t\t<div className='main'>\n\t\t<div className=\"home justify-center items-center\">\n\t\t\t<img src={Logo} alt='logo' />\n\t\t\t<h1>AvWeather</h1>\n\t\t\t<form className='search ' onChange={e => setSearch(e.target.value)} onSubmit={e => searchStation(e)}>\n\t\t\t\t<input type='text' placeholder='ICAO...' value={search} />\n\t\t\t\t<button className='material-icon' type='submit'>\n\t\t\t\t\t<SearchIcon className='material-icon primary'/>\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t\t<p className={`error-${resStatus}`}>Error: Airport not found</p>\n\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Home;","import '../assets/styles/App.scss';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport MapIcon from '@material-ui/icons/Map';\nimport { useParams, useHistory } from 'react-router-dom';\n\n\nconst ShowInMaps = (props) => {\n\n\tlet {coords} = useParams();\n\tlet history = useHistory();\n\tconst mapsKey = `${process.env.REACT_APP_MAPS_KEY}`;\n\tconst mapUrl = `https://www.google.com/maps/embed/v1/view?\n\t\t\t\t\t\t\t\t\t\tcenter=${coords}&\n\t\t\t\t\t\t\t\t\t\tzoom=13&\n\t\t\t\t\t\t\t\t\t\tkey=${mapsKey}&\n\t\t\t\t\t\t\t\t\t\tmaptype=satellite`\n\n\tconst goBack = () => {\n\t\thistory.goBack();\n\t}\n\n\treturn(\n\t\t<div className='main'>\n\t\t\t<div className='nav flex-row'>\n\t\t\t\t<button onClick={e => goBack()} className='material-icon left'>\n\t\t\t\t\t<ArrowBackIcon className='material-icon' />\n\t\t\t\t</button>   \n\t\t\t\t<h2 className='material-icon medium'>Location</h2>\n\t\t\t\t<MapIcon className='invisible right' />\n\t\t\t</div>\n\t\t\t<div className=\"home\">\n\t\t\t\t<div className='home  items-center'>\n\t\t\t\t\t<iframe className='map' \n\t\t\t\t\ttitle='maps'\n\t\t\t\t\tsrc={mapUrl} \n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\t\n\t);\n}\n\n\nexport default ShowInMaps;\n","import { useState, useEffect} from 'react';\nimport '../assets/styles/App.scss';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport MapIcon from '@material-ui/icons/Map';\nimport { useParams, useHistory } from 'react-router-dom';\n\n\nconst Details = () => {\n\n\tlet {ident} = useParams();\n\tconst stationUrl = `https://avwx.rest/api/station/${ident}?&format=json`;\n\tconst metarUrl = `https://avwx.rest/api/metar/${ident}?&format=json`;\n\tconst tafUrl = `https://avwx.rest/api/taf/${ident}?&format=json`;\n\tconst token = `${process.env.REACT_APP_TOKEN}`;\n\n\tconst [stationData, setStationData] = useState({});\n\tconst [metarData, setMetarData] = useState({});\n\tconst [tafData, setTafData] = useState({});\n\tconst [condition, setCondition] = useState('vmc');\n\tconst [loading, setLoading] = useState({metar:true, taf:true, info:true});\n\n\tlet history = useHistory();\n\n\tconst getStationData = async () => {\n\t\tawait fetch(stationUrl, {\n  \t\theaders: {\n    \t\tAuthorization: `TOKEN ${token}`\n  \t\t}\n\t\t})\n  \t.then(res => res.json())\n  \t.then(\n\t\t\tjson => {\n\t\t\t\tconst newStationData = {\n\t\t\t\t\tiata: json.iata,\n\t\t\t\t\ticao: json.icao,\n\t\t\t\t\tlat: json.latitude,\n\t\t\t\t\tlon: json.longitude,\n\t\t\t\t\tname: json.name,\n\t\t\t\t\tcountry: json.country,\n\t\t\t\t\trunways: json.runways,\n\t\t\t\t\telev_ft: json.elevation_ft,\n\t\t\t\t\telev_m: json.elevation_m\n\t\t\t\t};\n\t\t\t\tsetStationData(newStationData);\n\t\t\t})\n\t\t\t.catch(error => console.log('Station fetch error: ' + error));\n\t};\n\n\tconst getMetarData = async () => {\n\t\tawait fetch(metarUrl, {\n  \t\theaders: {\n    \t\tAuthorization: `TOKEN ${token}`\n  \t\t}\n\t\t})\n  \t.then(res => res.json())\n  \t.then(\n\t\t\tjson => {\n\t\t\t\tjson.flight_rules.includes('IFR') ? setCondition('imc') : setCondition('vmc');\n\t\t\t\tconst sincePublished = timeSincePublished(json);\n\t\t\t\tconst newMetarData = {\n\t\t\t\t\traw: json.raw,\n\t\t\t\t\tflight_rules: json.flight_rules,\n\t\t\t\t\twind_direction: json.wind_direction.value,\n\t\t\t\t\twind_speed: json.wind_speed.value,\n\t\t\t\t\tsince: sincePublished\n\t\t\t\t};\n\t\t\t\tsetMetarData(newMetarData);\n\t\t\t\tsetLoading(false);\n\t\t\t})\n\t\t\t.catch(error => console.log('METAR fetch error: ' + error));\n\t};\n\n\tconst getTafData = async () => {\n\t\tawait fetch(tafUrl, {\n  \t\theaders: {\n    \t\tAuthorization: `TOKEN ${token}`\n  \t\t}\n\t\t})\n  \t.then(res => res.json())\n  \t.then(\n\t\t\tjson => {\n\t\t\t\tconst newTafData = {\n\t\t\t\t\traw: json.raw\n\t\t\t\t};\n\t\t\t\tsetTafData(newTafData);\n\t\t\t})\n\t\t\t.catch(error => console.log('TAF fetch error: ' + error));\n\t};\n\n\tconst getRunwaysList = () => {\n\t\tconst listRwys = stationData.runways.map((rwy) => {\n\t\t\treturn(\n\t\t\t\t<span className='text small left data-font runway'>{rwy.ident1}/{rwy.ident2}</span>\n\t\t\t);\n\t\t});\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<p className='text left small'><span className='bold'>Runways: </span> {\" \" + stationData.runways.length}</p>\n\t\t\t\t<p className='text left small'>{listRwys}</p>\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst roundCoord = (coord) => {\n\t\tlet res = coord;\n\t\tres = Math.floor(res * 100) / 100;\n\t\treturn (res.toFixed(2)); \n\t}\n\n\t//Aux function\n\tconst timeSince = (date) => {\n\n\t\tvar seconds = Math.floor((new Date() - date) / 1000);\n\t\tvar interval = seconds / 31536000;\n\t\n\t\tif (interval > 1) {\n\t\t\treturn Math.floor(interval) + \" years\";\n\t\t}\n\t\tinterval = seconds / 2592000;\n\t\tif (interval > 1) {\n\t\t\treturn Math.floor(interval) + \" months\";\n\t\t}\n\t\tinterval = seconds / 86400;\n\t\tif (interval > 1) {\n\t\t\treturn Math.floor(interval) + \" days\";\n\t\t}\n\t\tinterval = seconds / 3600;\n\t\tif (interval > 1) {\n\t\t\treturn Math.floor(interval) + \" hours\";\n\t\t}\n\t\tinterval = seconds / 60;\n\t\tif (interval > 1) {\n\t\t\treturn Math.floor(interval) + \" minutes\";\n\t\t}\n\t\treturn Math.floor(seconds) + \" seconds\";\n\t}\n\n\n\tconst timeSincePublished = (data) => {\n\t\tvar offset = new Date().getTimezoneOffset();\t//Offset in minutes ex: 180min = +3hs \n\t\tconst now = new Date();\n\t\tconst toLocal = parseInt(offset/60);\n\t\tconst daypublished = parseInt(data.raw.slice(5,7));\n\t\tlet publishedHr = (parseInt(data.raw.slice(7,9))-toLocal);\n\t\tif (publishedHr < 0){\n\t\t\tpublishedHr = publishedHr%12;\n\t\t}\n\t\tconst publishedMin = parseInt(data.raw.slice(9,11));\n\t\tconst published = new Date(now.getFullYear(), now.getMonth(), daypublished, publishedHr, publishedMin, 0, 0);\n\n\t\tconst res = timeSince(published);\n\t\t\n\t\tif (res.includes('minutes')){\n\t\t\treturn (`${res} ago`);\n\t\t} else {\n\t\t\treturn 'expired';\n\t\t}\n\t}\n\n\tconst findNearby = () => {\n\t\tconst coords = roundCoord(stationData.lat) + \",\" + roundCoord(stationData.lon);\n\t\thistory.push(`/nearby/${coords}/${stationData.icao}`);\n\t}\n\n\tconst seeOnMap = () => {\n\t\tconst coords = roundCoord(stationData.lat) + \",\" + roundCoord(stationData.lon);\n\t\thistory.push(`/location/${coords}/${stationData.icao}`);\n\t}\n\t\n\tconst windInfo = () => {\n\t\tconst direction = metarData.wind_direction === null ? 'variable' : `${metarData.wind_direction}ยบ`\n\t\tconst speed = metarData.wind_speed === 0 ? 'Wind calm' : `${metarData.wind_speed} kts `;\n\t\t\n\t\tif (speed === 'Wind calm'){\n\t\t\treturn speed;\n\t\t}\n\t\telse{\n\t\t\treturn speed + direction;\n\t\t}\n\t}\n\n\tconst showConditions = () => {\n\t\tif (metarData.flight_rules.includes('VFR')){\n\t\t\treturn 'VMC';\n\t\t}\n\t\telse {\n\t\t\treturn 'IMC';\n\t\t}\n\t}\n\n\tuseEffect(() => getMetarData(), []); // eslint-disable-line react-hooks/exhaustive-deps\n\tuseEffect(() => getStationData(), []); // eslint-disable-line react-hooks/exhaustive-deps\n\tuseEffect(() => getTafData(), []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n\tif (loading){\n\t\treturn(\n\t\t\t<div className='main'>\n\t\t\t\t<div className='home justify-center items-center small'>\n\t\t\t\t\t<h1>Loading...</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\telse{\n\t\treturn(\n\t\t\t<div className='main'>\n\t\t\t\t<div className='nav flex-row'>\n\t\t\t\t\t<button onClick={e => history.goBack()} className='material-icon left'>\n\t\t\t\t\t\t<ArrowBackIcon className='material-icon' />\n\t\t\t\t\t</button>   \n\t\t\t\t\t<h2 className='material-icon'>{stationData.iata? stationData.iata + \"/\" + stationData.icao : stationData.icao}</h2>\n\t\t\t\t\t<button onClick={e => seeOnMap()}>\n\t\t\t\t\t\t<MapIcon className='material-icon right' />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t<div className=\"home\">\n\t\t\t\t<div>\n\t\t\t\t\t<p className='text'>{stationData.name}</p>\n\t\t\t\t\t<p className='text'>{stationData.country}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className='container self-center overflow-scroll flex-col' >\t{/* container METAR */}\n\t\t\t\t\t<div className='flex-row right' >\n\t\t\t\t\t\t<p className='text bold'>METAR</p>\n\t\t\t\t\t\t<div className='flex-row'>\n\t\t\t\t\t\t\t<p className='text'> {windInfo()}</p>\n\t\t\t\t\t\t\t<p className={`text condition ${condition}`}>{showConditions()}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div> \n\n\t\t\t\t\t<p className='text right data-font'>\n\t\t\t\t\t\t{metarData.raw}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className='flex-row justify-end right'>\n\t\t\t\t\t\t<p className={`time-ago bottom ${metarData.since}`}>{metarData.since}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t\n\t\t\t\t<div className='container big self-center overflow-scroll' >\t{/* container TAF */}\n\t\t\t\t\t<div className='flex-row right' >\n\t\t\t\t\t\t<p className='text bold'>TAF</p>\n\t\t\t\t\t</div> \n\t\t\t\t\t<div className='text right data-font'>\n\t\t\t\t\t\t{tafData.raw}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='container big self-center'> {/* airport info */}\n\t\t\t\t\t<div className='flex-row right' >\n\t\t\t\t\t\t<p className='text bold'>Airport Info</p>\n\t\t\t\t\t</div> \n\t\t\t\t\t<div className='flex-col'>\n\t\t\t\t\t\t<p className='text left small'><span className='bold'>Coordinates: </span><span className='text small left data-font'> {roundCoord(stationData.lat)} {roundCoord(stationData.lon)}</span> </p>\n\t\t\t\t\t\t<p className='text left small'><span className='bold'>Elevation: </span> <span className='text small left data-font'> {stationData.elev_ft}ft / {stationData.elev_m}m</span> </p>\n\t\t\t\t\t\t{stationData.runways && getRunwaysList()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button className='nearby button small' onClick={e => findNearby(e)}>\n\t\t\t\t\t<p>FIND NEARBY</p>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n\t}\n\t\n};\n\nexport default Details;","import '../assets/styles/App.scss';\n\n\nconst StationPreview = (props) => {\n\n\tconst roundDistance = (d) => {\n\t\tlet res = d;\n\t\tres = Math.floor(res * 100) / 100;\n\t\treturn (res.toFixed(0)); \n\t}\n\n\treturn(\n\t\t<div className='container self-center container-preview left' >\n\t\t\t<div className='flex-row right' >\n\t\t\t\t<p className='text'>{props.name + \" \" + props.country}</p>\n\t\t\t\t<p className='text bold'>{props.icao}</p>\n\t\t\t</div>\n\t\t\t<div className=''>\n\t\t\t\t<p className='text'>{roundDistance(props.dist) + \" Nm from \" + props.from}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default StationPreview;","import '../assets/styles/App.scss';\nimport StationPreview from './StationPreview';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\n\nconst List = (props) => {\n\n\tconst url = `https://avwx.rest/api/station/near/${props.coords}?n=6&airport=true&format=json`;\n\tconst token = `${process.env.REACT_APP_TOKEN}`;\n\n\tconst [nearby, setNearby] = useState([]);\n\n\tconst getNearby = () => {\n\t\tfetch(url, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `TOKEN ${token}`\n\t\t\t}\n\t\t}).then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tsetNearby(data);\n\t\t\t\t})\n\t\t\t\t.catch(error => console.log('Nearby list fetch error: ' + error));\n\t}\n\t\n\t//Skip the airport itself\n\tconst slicedNearby = nearby.slice(1);\n\n\tconst listNearby = slicedNearby.map((a) => {\n\t\treturn(\n\t\t\t<Link to={`/station/${a.station.icao}`} className='link'>\n\t\t\t\t<StationPreview\n\t\t\t\t\tkey={a.station.iata}\n\t\t\t\t\ticao={a.station.icao} \n\t\t\t\t\tname={a.station.name}\n\t\t\t\t\tdist={a.nautical_miles}\n\t\t\t\t\tcountry={a.station.country}\n\t\t\t\t\tfrom={props.ident}\n\t\t\t\t\t/>\n\t\t\t</Link>\n\t\t)\n\t\t});\n\t\t\n\tuseEffect(()=>getNearby(), []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn (\n\t\t<>\n\t\t\t{listNearby}\n\t\t</>\n\t)\n\t\n}\n\nexport default List;\n\n","import {  useParams, useHistory } from 'react-router-dom';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport '../assets/styles/App.scss';\nimport List from './List';\n\nconst Nearby = () => {\n\n\t\tlet {coords} = useParams();\n\t\tlet {ident} = useParams();\t//primer icao\n\t\tconst history = useHistory();\n\n\t\tconst goBack = () => {\n\t\t\thistory.goBack();\n\t\t}\n\n    return(\n\t\t\t<div className='main'>\n\t\t\t\t<div className='nav flex-row'>\n\t\t\t\t\t<button onClick={e => goBack()} className='material-icon left' >\n\t\t\t\t\t\t<ArrowBackIcon className='material-icon' />\n\t\t\t\t\t</button>   \n\t\t\t\t\t<h2 className='material-icon medium'>Nearby Airports</h2>\n\t\t\t\t\t<ArrowBackIcon className='right invisible' />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"home overflow-scroll\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<List coords={coords} ident={ident} />\n\t\t\t\t\t</div>\n\t\t\t\t</div> \n\t\t\t</div> \n    );\n}\n\nexport default Nearby;","import {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport Home from './components/Home';\nimport ShowInMaps from './components/ShowInMaps';\nimport Details from './components/Details';\nimport Nearby from './components/Nearby';\nimport './assets/styles/App.scss';\n\nfunction App() {\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/avweather\" component={Home} />\n        <Route path=\"/station/:ident\" component={Details} />\n        <Route path=\"/nearby/:coords/:ident\" component={Nearby} />\n        <Route path=\"/location/:coords/:ident\" component={ShowInMaps} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}