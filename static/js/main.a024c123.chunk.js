(this["webpackJsonpav-weather"]=this["webpackJsonpav-weather"]||[]).push([[0],{15:function(t,n,e){},39:function(t,n,e){},50:function(t,n,e){"use strict";e.r(n);var a,c,i,r,o,s,l,d,h,u,j,f,x,b,m,p,O,g,v,w,y=e(0),N=e.n(y),k=e(19),M=e.n(k),A=(e(39),e(14)),E=e(5),z=e(8),_=(e(15),e.p+"static/media/logo.19da3b99.png"),S=e(31),R=e.n(S),F=e(3),I=e(4),K=I.a.div(a||(a=Object(F.a)(["\n  width: 100vw;\n  height: 100vh;\n  overflow-y: hidden;\n  background-color: #232831;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),T=I.a.form(c||(c=Object(F.a)(["\n  background-color: #c3c7d0;\n  height: 36px;\n  width: 210px;\n  border-radius: 20px 20px 20px 20px;\n  display: flex;\n"]))),C=I.a.button(i||(i=Object(F.a)(["\n  align-self: center;\n  color: #eeeeee;\n"]))),D=I.a.p(r||(r=Object(F.a)(["\n  color: red;\n  font-size: 0.85rem;\n  visibility: ",";\n"])),(function(t){return"ERROR"===t.error?"visible":"hidden"})),L=e(1),W=function(){var t=Object(E.f)(),n=Object(y.useState)(""),e=Object(z.a)(n,2),a=e[0],c=e[1],i=Object(y.useState)("OK"),r=Object(z.a)(i,2),o=r[0],s=r[1],l="https://avwx.rest/api/station/".concat(a,"?&format=json"),d="".concat("Ex1m3Sv8KRhS4iHe_YKWmsPA7hhUNIfHOC4OEkKbTmQ"),h=function(){s("ERROR"),setTimeout((function(){s("OK")}),2200)};return Object(L.jsxs)(K,{children:[Object(L.jsx)("img",{src:_,alt:"logo"}),Object(L.jsx)("h1",{children:"AvWeather"}),Object(L.jsxs)(T,{onChange:function(t){return c(t.target.value)},onSubmit:function(n){return function(n){n.preventDefault(),fetch(l,{headers:{Authorization:"TOKEN ".concat(d)}}).then((function(n){c(""),n.ok?t.push("/station/".concat(a)):h()}))}(n)},children:[Object(L.jsx)("input",{type:"text",placeholder:"ICAO...",value:a}),Object(L.jsx)(C,{className:"material-icon",type:"submit",children:Object(L.jsx)(R.a,{className:"material-icon primary"})})]}),Object(L.jsx)(D,{error:o,children:"Error: Airport not found"})]})},H=e(32),U=e.n(H),B=e(33),Y=e.n(B),P=I.a.div(o||(o=Object(F.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: #232831;\n  font-size: 0.85rem;\n  display: grid;\n  place-items: center;\n"]))),Q=I.a.nav(s||(s=Object(F.a)(["\n  background-color: #252e41;\n  width: 100%;\n  height: 50px;\n  border-radius: 0 0 8px 8px;\n  display: flex;\n  justify-content: space-between;\n"]))),J=I.a.button(l||(l=Object(F.a)(["\n  align-self: center;\n  color: #eeeeee;\n  margin-left: ",";\n  margin-right: ",";\n"])),(function(t){return t.left?"10px":""}),(function(t){return t.right?"10px":""})),V=I.a.div(d||(d=Object(F.a)(["\n  background-color: #232831;\n  min-height: 100vh;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  @media (min-width: 500px) {\n    width: 500px;\n    position: relative;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n"]))),X=I.a.div(h||(h=Object(F.a)(["\n  background-color: #252e41;\n  height: auto;\n  max-height: 140px;\n  width: 95%;\n  margin-top: 5%;\n  border-radius: 8px 8px 8px 8px;\n  align-self: center;\n  overflow-y: scroll;\n  /* small devices */\n  @media (max-height: 600px) {\n    height: auto;\n    max-height: 110px;\n    font-size: 0.85rem;\n    p {\n      font-size: 0.75rem;\n    }\n  }\n"]))),G=I.a.div(u||(u=Object(F.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-right: 10px;\n  margin-left: 10px;\n  height: 35px;\n  align-items: center;\n  margin-top: 5px;\n"]))),q=I.a.div(j||(j=Object(F.a)(["\n  display: flex;\n  flex-direction: row;\n  align-self: center;\n  @media (max-height: 600px) {\n    font-size: 0.85rem;\n  }\n"]))),Z=I.a.p(f||(f=Object(F.a)(["\n  padding: 1.5px;\n  font-weight: 700;\n  font-size: 0.85rem;\n  color: #eeeeee;\n  border-radius: 5px 5px 5px 5px;\n  text-align: center;\n  background-color: ",";\n  @media (max-height: 600px) {\n    font-size: 0.75rem;\n  }\n"])),(function(t){return"IMC"===t.conditions?"#e49400":"#02c802"})),$=I.a.p(x||(x=Object(F.a)(['\n  font-family: "RobotoMono", sans-serif;\n  margin-left: 10px;\n  margin-right: 10px;\n  margin-bottom: 12px;\n  margin-top: 0;\n']))),tt=I.a.div(b||(b=Object(F.a)(["\n  display: flex;\n  width: 100%;\n  height: auto;\n  justify-content: flex-end;\n  top: auto;\n  margin-bottom: 10px;\n"]))),nt=I.a.p(m||(m=Object(F.a)(["\n  font-size: 0.8rem;\n  text-align: end;\n  margin-bottom: 0px;\n  margin-right: 10px;\n  margin-top: 0;\n  height: 100%;\n  color: ",";\n  @media (max-height: 600px) {\n    font-size: 0.75rem;\n    margin-top: 5px;\n  }\n"])),(function(t){return t.timeAgo.includes("minutes")?"#02c802":"red"})),et=I.a.button(p||(p=Object(F.a)(["\n  color: #c3c7d0;\n  position: absolute;\n  bottom: 2%;\n  align-self: center;\n  background-color: #252e41;\n  border-radius: 25px 25px 25px 25px;\n  font-size: 0.85rem;\n  font-weight: 700;\n  width: 140px;\n  @media (min-width: 500px) {\n    bottom: 10%;\n  }\n"]))),at=function(t){var n=Object(E.f)(),e=t.nearby;return Object(L.jsxs)(Q,{children:[Object(L.jsx)(J,{left:!0,onClick:function(t){return n.goBack()},children:Object(L.jsx)(U.a,{className:"material-icon"})}),Object(L.jsx)("h2",{className:"material-icon ".concat(e&&"medium"),children:t.iata?t.iata+"/"+t.icao:t.icao}),Object(L.jsx)(J,{onClick:function(n){return t.seeOnMap()},children:Object(L.jsx)(Y.a,{className:"material-icon right ".concat(e&&"invisible")})})]})},ct=I.a.div(O||(O=Object(F.a)(["\n  background-color: #232831;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),it=function(t){var n=Object(E.g)().coords,e="".concat("AIzaSyAw_96zJQPmvu3kANMnNbclUzUE6UuXGFs"),a="https://www.google.com/maps/embed/v1/view?\n\t\t\t\t\t\t\t\t\t\tcenter=".concat(n,"&\n\t\t\t\t\t\t\t\t\t\tzoom=14&\n\t\t\t\t\t\t\t\t\t\tkey=").concat(e,"&\n\t\t\t\t\t\t\t\t\t\tmaptype=satellite");return Object(L.jsxs)("div",{className:"main",children:[Object(L.jsx)(at,{nearby:!0,icao:"Location"}),Object(L.jsx)(ct,{children:Object(L.jsx)("iframe",{className:"map",title:"maps",src:a})})]})},rt=function(t){return Object(L.jsxs)(X,{info:"metar",children:[Object(L.jsxs)(G,{children:[Object(L.jsx)("p",{style:{fontWeight:600},children:"METAR"}),Object(L.jsxs)(q,{children:[Object(L.jsx)("p",{style:{marginRight:10},children:t.windInfo}),Object(L.jsx)(Z,{conditions:t.conditions,children:t.conditions})]})]}),Object(L.jsx)($,{children:t.raw}),Object(L.jsx)(tt,{children:Object(L.jsx)(nt,{timeAgo:t.timeAgo,children:t.timeAgo})})]})},ot=function(t){return Object(L.jsxs)(X,{children:[Object(L.jsx)("p",{style:{fontWeight:600,marginLeft:10,marginBottom:5},children:"TAF"}),Object(L.jsx)($,{children:t.raw})]})},st=function(t){return Object(L.jsxs)(X,{children:[Object(L.jsx)("p",{style:{fontWeight:600,marginLeft:10,marginBottom:5},children:"Airport Info"}),Object(L.jsxs)("div",{className:"flex col",children:[Object(L.jsxs)("p",{className:"text small",children:[Object(L.jsx)("span",{style:{fontWeight:700},children:"Coordinates: "}),t.lat," ",t.lon]}),Object(L.jsxs)("p",{className:"text small",children:[Object(L.jsx)("span",{style:{fontWeight:700},children:"Elevation: "})," ",t.elevFt,"ft / ",t.elevM,"m"," "]}),t.getRunwaysList()]})]})},lt=e(17),dt=e.n(lt),ht=e(20),ut=function(t){var n="https://avwx.rest/api/station/".concat(t,"?&format=json"),e="https://avwx.rest/api/metar/".concat(t,"?&format=json"),a="https://avwx.rest/api/taf/".concat(t,"?&format=json"),c="".concat("Ex1m3Sv8KRhS4iHe_YKWmsPA7hhUNIfHOC4OEkKbTmQ"),i=Object(y.useState)({}),r=Object(z.a)(i,2),o=r[0],s=r[1],l=Object(y.useState)({}),d=Object(z.a)(l,2),h=d[0],u=d[1],j=Object(y.useState)({}),f=Object(z.a)(j,2),x=f[0],b=f[1],m=Object(y.useState)(!0),p=Object(z.a)(m,2),O=p[0],g=p[1],v=Object(y.useState)(!0),w=Object(z.a)(v,2),N=w[0],k=w[1],M=Object(y.useState)(!0),A=Object(z.a)(M,2),E=A[0],_=A[1],S=function(){var t=Object(ht.a)(dt.a.mark((function t(){return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(n,{headers:{Authorization:"TOKEN ".concat(c)}}).then((function(t){return t.json()})).then((function(t){var n={iata:t.iata,icao:t.icao,lat:t.latitude,lon:t.longitude,name:t.name,country:t.country,runways:t.runways,elev_ft:t.elevation_ft,elev_m:t.elevation_m};s(n),g(!1)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Station fetch error: "+t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(ht.a)(dt.a.mark((function t(){return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{headers:{Authorization:"TOKEN ".concat(c)}}).then((function(t){return t.json()})).then((function(t){var n=I(t),e={raw:t.raw,flight_rules:t.flight_rules,wind_direction:t.wind_direction.value,wind_speed:t.wind_speed.value,since:n};u(e),k(!1)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("METAR fetch error: "+t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),F=function(){var t=Object(ht.a)(dt.a.mark((function t(){return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(a,{headers:{Authorization:"TOKEN ".concat(c)}}).then((function(t){return t.json()})).then((function(t){var n={raw:t.raw};b(n),_(!1)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("TAF fetch error: "+t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),I=function(t){var n=(new Date).getTimezoneOffset(),e=new Date,a=parseInt(n/60),c=parseInt(t.raw.slice(5,7)),i=parseInt(t.raw.slice(7,9))-a;i<0&&(i%=12);var r=parseInt(t.raw.slice(9,11)),o=function(t){var n=Math.floor((new Date-t)/1e3),e=n/31536e3;return e>1?Math.floor(e)+" years":(e=n/2592e3)>1?Math.floor(e)+" months":(e=n/86400)>1?Math.floor(e)+" days":(e=n/3600)>1?Math.floor(e)+" hours":(e=n/60)>1?Math.floor(e)+" minutes":Math.floor(n)+" seconds"}(new Date(e.getFullYear(),e.getMonth(),c,i,r,0,0));return o.includes("minutes")?"".concat(o," ago"):"expired"};return Object(y.useEffect)((function(){S(),R(),F()})),{stationData:o,metarData:h,tafData:x,infoLoading:O,metarLoading:N,tafLoading:E}},jt=function(){var t=Object(E.f)(),n=Object(E.g)().ident,e=ut(n),a=e.stationData,c=e.metarData,i=e.tafData,r=e.infoLoading,o=e.metarLoading,s=e.tafLoading,l=function(t){var n=t;return(n=Math.floor(100*n)/100).toFixed(2)};return o||s||r?Object(L.jsx)(P,{children:Object(L.jsx)("h1",{children:"Loading..."})}):Object(L.jsxs)("div",{className:"main",children:[Object(L.jsx)(at,{iata:a.iata,icao:a.icao,seeOnMap:function(){var n=l(a.lat)+","+l(a.lon);t.push("/location/".concat(n,"/").concat(a.icao))}}),Object(L.jsxs)(V,{children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"text",children:a.name}),Object(L.jsx)("p",{className:"text",children:a.country})]}),Object(L.jsx)(rt,{windInfo:function(){var t=null===c.wind_direction?"variable":"".concat(c.wind_direction,"\xba"),n=0===c.wind_speed?"Wind calm":"".concat(c.wind_speed," kts ");return"Wind calm"===n?n:t+" "+n}(),conditions:c.flight_rules.includes("VFR")?"VMC":"IMC",raw:c.raw,timeAgo:c.since}),Object(L.jsx)(ot,{raw:i.raw}),Object(L.jsx)(st,{lat:function(t){var n=t;return(n=Math.floor(100*n)/100)<0?"S ".concat(Math.abs(n.toFixed(2))):"N ".concat(Math.abs(n.toFixed(2)))}(a.lat),lon:function(t){var n=t;return(n=Math.floor(100*n)/100)<0?"W ".concat(Math.abs(n.toFixed(2))):"E ".concat(Math.abs(n.toFixed(2)))}(a.lon),elevFt:a.elev_ft,elevM:a.elev_m,getRunwaysList:function(){var t=a.runways.map((function(t){return Object(L.jsxs)("span",{className:"text small data-font runway",children:[t.ident1,"/",t.ident2]})}));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("p",{className:"text small",children:[Object(L.jsx)("span",{className:"bold",children:"Runways: "})," "," "+a.runways.length]}),Object(L.jsx)("p",{className:"text small",children:t})]})}}),Object(L.jsx)(et,{onClick:function(n){return function(){var n=l(a.lat)+","+l(a.lon);t.push("/nearby/".concat(n,"/").concat(a.icao))}()},children:Object(L.jsx)("p",{children:"FIND NEARBY"})})]})]})},ft=I.a.div(g||(g=Object(F.a)(["\n  background-color: #252e41;\n  height: 100px;\n  width: 95%;\n  margin-top: 5%;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 8px 8px 8px 8px;\n  align-self: center;\n  overflow-y: scroll;\n  /* small devices */\n  @media (max-height: 600px) {\n    height: 80px;\n    font-size: 0.85rem;\n    p {\n      font-size: 0.75rem;\n    }\n  }\n"]))),xt=I.a.div(v||(v=Object(F.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-right: 10px;\n  justify-content: space-between;\n"]))),bt=I.a.div(w||(w=Object(F.a)(["\n  background-color: #232831;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n"]))),mt=function(t){return Object(L.jsxs)(ft,{children:[Object(L.jsxs)(xt,{children:[Object(L.jsx)("p",{className:"text",children:t.name+" "+t.country}),Object(L.jsx)("p",{className:"text bold",children:t.icao})]}),Object(L.jsx)("div",{className:"",children:Object(L.jsx)("p",{className:"text",children:function(t){var n=t;return(n=Math.floor(100*n)/100).toFixed(0)}(t.dist)+" Nm from "+t.from})})]})},pt=function(t){var n="https://avwx.rest/api/station/near/".concat(t.coords,"?n=6&airport=true&format=json"),e="".concat("Ex1m3Sv8KRhS4iHe_YKWmsPA7hhUNIfHOC4OEkKbTmQ"),a=Object(y.useState)([]),c=Object(z.a)(a,2),i=c[0],r=c[1],o=i.slice(1).map((function(n){return Object(L.jsx)(A.b,{to:"/station/".concat(n.station.icao),className:"link",children:Object(L.jsx)(mt,{icao:n.station.icao,name:n.station.name,dist:n.nautical_miles,country:n.station.country,from:t.ident},n.station.iata)})}));return Object(y.useEffect)((function(){fetch(n,{headers:{Authorization:"TOKEN ".concat(e)}}).then((function(t){return t.json()})).then((function(t){r(t)})).catch((function(t){return console.log("Nearby list fetch error: "+t)}))}),[]),Object(L.jsx)(L.Fragment,{children:o})},Ot=function(){var t=Object(E.g)().coords,n=Object(E.g)().ident;return Object(L.jsxs)("div",{className:"main",children:[Object(L.jsx)(at,{nearby:!0,icao:"Nearby Airports"}),Object(L.jsx)(bt,{children:Object(L.jsx)("div",{children:Object(L.jsx)(pt,{coords:t,ident:n})})})]})};var gt=function(){return Object(L.jsx)(A.a,{children:Object(L.jsxs)(E.c,{children:[Object(L.jsx)(E.a,{exact:!0,path:"/avweather",component:W}),Object(L.jsx)(E.a,{path:"/station/:ident",component:jt}),Object(L.jsx)(E.a,{path:"/nearby/:coords/:ident",component:Ot}),Object(L.jsx)(E.a,{path:"/location/:coords/:ident",component:it})]})})};M.a.render(Object(L.jsx)(N.a.StrictMode,{children:Object(L.jsx)(gt,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.a024c123.chunk.js.map